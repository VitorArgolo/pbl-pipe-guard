"use strict";(self.webpackChunkpipe_guard=self.webpackChunkpipe_guard||[]).push([[954],{9954:(M,d,n)=>{n.r(d),n.d(d,{StatusServidorApiModule:()=>U});var s=n(6814),u=n(5692),t=n(5879),a=n(9862),g=n(8504),l=n(6306);let h=(()=>{class e{constructor(o){this.http=o,this.apiUrl="https://api-incidents-1.onrender.com"}login(){const o=(new a.WM).set("Content-Type","application/json");return this.http.post(`${this.apiUrl}/login`,{username:"admim",password:"admim"},{headers:o}).pipe((0,l.K)(r=>(0,g._)(r)))}getServerInfo(o){const r=(new a.WM).set("Authorization",`Bearer ${o}`);return this.http.get(`${this.apiUrl}/server-info`,{headers:r}).pipe((0,l.K)(i=>(0,g._)(i)))}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(a.eN))};static#o=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function m(e,c){1&e&&(t.TgZ(0,"div",3),t._UZ(1,"div",4),t.qZA())}function f(e,c){if(1&e&&(t.TgZ(0,"div",8)(1,"p")(2,"strong"),t._uU(3,"Model:"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"p")(6,"strong"),t._uU(7,"Speed:"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"strong"),t._uU(11,"Times:"),t.qZA()(),t.TgZ(12,"ul")(13,"li")(14,"strong"),t._uU(15,"User:"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"li")(18,"strong"),t._uU(19,"Nice:"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"li")(22,"strong"),t._uU(23,"Sys:"),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"li")(26,"strong"),t._uU(27,"Idle:"),t.qZA(),t._uU(28),t.qZA(),t.TgZ(29,"li")(30,"strong"),t._uU(31,"IRQ:"),t.qZA(),t._uU(32),t.qZA()()()),2&e){const o=c.$implicit,r=t.oxw(2);t.xp6(4),t.hij(" ",o.model,""),t.xp6(4),t.hij(" ",o.speed," GHz"),t.xp6(8),t.hij(" ",r.formatTime(o.times.user),""),t.xp6(4),t.hij(" ",r.formatTime(o.times.nice),""),t.xp6(4),t.hij(" ",r.formatTime(o.times.sys),""),t.xp6(4),t.hij(" ",r.formatTime(o.times.idle),""),t.xp6(4),t.hij(" ",r.formatTime(o.times.irq),"")}}function v(e,c){if(1&e&&(t.TgZ(0,"div",5)(1,"div",6)(2,"h2"),t._uU(3,"Informa\xe7\xf5es do Servidor"),t.qZA(),t.TgZ(4,"p")(5,"strong"),t._uU(6,"Hostname:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"p")(9,"strong"),t._uU(10,"Uptime:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p")(13,"strong"),t._uU(14,"Total Memory:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p")(17,"strong"),t._uU(18,"Free Memory:"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"p")(21,"strong"),t._uU(22,"Load Average:"),t.qZA(),t._uU(23),t.qZA()(),t.TgZ(24,"div",6)(25,"h2"),t._uU(26,"Informa\xe7\xf5es das CPUs"),t.qZA(),t.YNc(27,f,33,7,"div",7),t.qZA()()),2&e){const o=t.oxw();t.xp6(7),t.hij(" ",o.serverInfo.hostname,""),t.xp6(4),t.hij(" ",o.formatUptime(o.serverInfo.uptime),""),t.xp6(4),t.hij(" ",o.formatMemory(o.serverInfo.totalMemory),""),t.xp6(4),t.hij(" ",o.formatMemory(o.serverInfo.freeMemory),""),t.xp6(4),t.hij(" ",o.formatLoadAverage(o.serverInfo.loadAverage),""),t.xp6(4),t.Q6J("ngForOf",o.serverInfo.cpus)}}const A=[{path:"",component:(()=>{class e{constructor(o){this.statusServidorApiService=o,this.token=""}ngOnInit(){this.login(),setInterval(()=>{this.getServerInfo()},5e3)}login(){this.statusServidorApiService.login().subscribe(o=>{this.token=o.token,this.getServerInfo()},o=>{console.error("Erro ao fazer login:",o)})}getServerInfo(){this.statusServidorApiService.getServerInfo(this.token).subscribe(o=>{this.serverInfo=o},o=>{console.error("Erro ao obter informa\xe7\xf5es do servidor:",o)})}formatUptime(o){return`${Math.floor(o/86400)}d ${Math.floor(o%86400/3600)}h ${Math.floor(o%3600/60)}m ${Math.floor(o%60)}s`}formatMemory(o){return`${(o/1073741824).toFixed(2)} GB`}formatLoadAverage(o){return o.map(r=>r.toFixed(2)).join(", ")}formatTime(o){return`${Math.floor(o/36e5)}h ${Math.floor(o%36e5/6e4)}m ${Math.floor(o%6e4/1e3)}s`}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(h))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-status-servidor-api"]],decls:3,vars:2,consts:[[1,"dashboard-container"],["class","loading",4,"ngIf"],["class","dashboard",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"dashboard"],[1,"card"],["class","cpu",4,"ngFor","ngForOf"],[1,"cpu"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.YNc(1,m,2,0,"div",1),t.YNc(2,v,28,6,"div",2),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngIf",!i.serverInfo),t.xp6(1),t.Q6J("ngIf",i.serverInfo))},dependencies:[s.sg,s.O5],styles:["[_nghost-%COMP%]{display:block;padding:20px}h2[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:1.5}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}li[_ngcontent-%COMP%]{margin-bottom:5px}strong[_ngcontent-%COMP%]{font-weight:700}.cpu-container[_ngcontent-%COMP%]{margin-top:20px;padding-left:20px;border-left:2px solid #ccc}.cpu-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}return e})()}];let Z=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(A),u.Bz]})}return e})(),U=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[s.ez,Z]})}return e})()}}]);